Cards should have an additional optional text area with more textual content to be placed on. This text area should also be visible in the swimlanes.
The text must be able to modify at any time.

# ATDD: cards should have optional text area with more possible text.

```
scenario("Create a card with Text", () => {
  given.userIsAuthenticated("alice");
  when.userCreatesCard({ title: "Write tests", column: "Todo", text: "Lorem ipsum dolor..." });
  then.boardShowsCard("Write tests", "Lorem ipsum dolor...", "Todo");
  then.changeIsPersisted();
});
```

```
scenario("Change the text of a card", () => {
  given.userIsAuthenticated("alice");
  given.cardExists({ title: "Write tests", column: "Todo", text: "Lorem ipsum dolor..." });
  when.userChangesText({ title: "Write tests", column: "Todo", text: "And now something completely different." });
  then.boardShowsCard("Write tests", "And now something completely different.", "Todo");
  then.changeIsPersisted();
});
```

```
scenario("Change the title of a card", () => {
  given.userIsAuthenticated("alice");
  given.cardExists({ title: "Write tests", column: "Todo", text: "Lorem ipsum dolor..." });
  when.userChangesTitle({ title: "Write even more tests", column: "Todo", text: "Lorem ipsum dolor..." });
  then.boardShowsCard("Write even more tests", "Lorem ipsum dolor...", "Todo");
  then.changeIsPersisted();
});
```

## chats response

Added optional card text with full CRUD support and UI editing, plus input sanitization:

Domain: Card now includes optional text; added sanitizeText, updateText, and updateTitle in BoardService (src/board.ts).
API: /api/cards accepts text; new endpoints /api/cards/text and /api/cards/title for edits; title/text validated server-side (src/server.ts).
Tests: Updated DSL to handle text and new actions; added ATDDs for creating/editing text/title (tests/atdd/text.spec.ts), adjusted notification scenario expectations.
UI: Added text field in create form; cards render text; per-card editors to save text/title via new endpoints; styling updated for textarea and edit controls (public/index.html, public/main.js, public/styles.css).
Security: Titles/text sanitized on create/update; frontend uses DOM APIs (not innerHTML) for card content.
Tests: npm test (12 passing). Rebuild/restart to use the new text fields and editing capabilities.

8 files changed
+352
-19

Undo

View all changes
index.html
+4
-0

main.js
+87
-1

styles.css
+23
-3

board.ts
+50
-1

server.ts
+87
-2

dsl.ts
+55
-8

notifications.spec.ts
+4
-4

text.spec.ts
+42
-0

# confusion - where is the mentioned UI field and CRUD functionality
It seems, that the reported CRUD support and UI editing is not available to the user whatsoever.

## chats response
I suspect you’re seeing an older static build. The server currently prefers an existing dist/ folder; if it was built before the new UI, you’ll keep getting the old HTML. I’ve adjusted the server to prefer public/ (unless STATIC_DIR is set), so running npm start will now serve the latest sources without needing a rebuild. If you’re running Docker, rebuild the image to pick up the new UI.

New text/CRUD UI (after rebuild or with the updated server):

Create form now has a “Text” textarea.
Each card shows its text, a per-card textarea + “Save text” button, and an input + “Save title” button, plus move/delete buttons.
Tests still pass (npm test). After pulling this change, restart the app (or rebuild the image) and the text/title editing controls should appear.

1 file changed

Undo

View all changes
server.ts
+2
-2

