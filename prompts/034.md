# use oidc username instead of id of the user instead, as user value in the cards
The response of the 'me' api call is something like
```
{
  "sub": "****23d5-****-****-****-77d*********",
  "name": "James Doe",
  "email": "james.doe@domain.local"
}
```
## chats response
Currently 'sub' -> subject is used as user, instead name should be used, because it is human readable and unique enough for display purposes.

Changed card author display to use the OIDC display name first. public/main.js now sets the current user to name (then email, then sub as fallback), so cards show the human-readable username.

1 file changed

Undo

View all changes
main.js
+1
-1

# action: undo - reformulated request:
The display of the user in the header was absolutely ok.

use 'name' from GET api/me (or the initial origin of the value in 'name') for display of the creator of a card.
The response of the 'me' api call is something like
```
{
  "sub": "****23d5-****-****-****-77d*********",
  "name": "James Doe",
  "email": "james.doe@domain.local"
}
```

## chats response
Updated card author handling:

Kept header display as before (email/name/sub), but card creation now uses a human-friendly display name, preferring name from /api/me.
Added separate tracking for stable user id vs display name so cards show the readable creator while header remains unchanged.
Files touched: public/main.js.

1 file changed

Undo

View all changes
main.js
+13
-4


# error: still the cards data contains createdBy from subject instead of name

Example data
```
{
  "id": "card-1-mim74tjs",
  "title": "Name instead of subject",
  "column": "Todo",
  "text": "",
  "expanded": true,
  "createdBy": "f66a13a3-f074-436b-9da3-d7813ccd33eb"
}
```

## chats response
Adjusted server-side card creation to store the human-friendly name (or email, then sub) from the authenticated session as createdBy. New cards now use the display name instead of the subject ID, while keeping auth enforcement unchanged.

Files changed:

src/server.ts
1 file changed

Undo

View all changes
server.ts
+3
-1
